<!DOCTYPE html>
<html lang="en" class="">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unlock Your Success: The Unified Government Exam Syllabus</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700;800&family=Manrope:wght@400;500;700&display=swap" rel="stylesheet">
    <script>
        // Set theme on initial load to prevent FOUC
        if (localStorage.getItem('theme') === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    </script>
    <style>
        :root {
            --header-height: 64px;
            /* Light Mode Colors */
            --bg: #f1f5f9; /* slate-100 */
            --text-primary: #1e293b; /* slate-800 */
            --text-secondary: #64748b; /* slate-500 */
            --card-bg: rgba(255, 255, 255, 0.7);
            --card-border: rgba(0, 0, 0, 0.08);
            --header-bg: rgba(241, 245, 249, 0.6);
            --accent-1: #f59e0b; /* Amber 500 */
            --accent-2: #4f46e5; /* Indigo 600 */
            --accent-3: #d946ef; /* Fuchsia 500 */
            --modal-question-bg-bright: #eef2ff;
            --modal-solution-bg-bright: #f0fdf4;
            --modal-solution-border-bright: #22c55e;
            --modal-solution-text-bright: #166534;

            /* Tag Colors - Light */
            --tag-vh-bg: #FFE4E6; --tag-vh-text: #9F1239;
            --tag-h-bg: #FFEADD; --tag-h-text: #C2410C;
            --tag-m-bg: #FEF9C3; --tag-m-text: #854D0E;
            --tag-l-bg: #D1FAE5; --tag-l-text: #065F46;
            --tag-ssc-bg: #E0E7FF; --tag-ssc-text: #3730A3;
            --tag-banking-bg: #FAE8FF; --tag-banking-text: #86198F;
            --tag-railways-bg: #E0F2FE; --tag-railways-text: #0369A1;
        }
        html.dark {
            /* Dark Mode Colors */
            --bg: #0f172a; /* slate-900 */
            --text-primary: #f1f5f9; /* slate-100 */
            --text-secondary: #94a3b8; /* slate-400 */
            --card-bg: rgba(30, 41, 59, 0.5);
            --card-border: rgba(255, 255, 255, 0.1);
            --header-bg: rgba(15, 23, 42, 0.6);
            --accent-1: #fbbf24; /* Amber 400 */
            --accent-2: #818cf8; /* Indigo 400 */
            --accent-3: #f472b6; /* Pink 400 */
            --modal-question-bg-bright: rgba(30, 58, 138, 0.3);
            --modal-solution-bg-bright: rgba(22, 101, 52, 0.3);
            --modal-solution-border-bright: #4ade80;
            --modal-solution-text-bright: #dcfce7;

            /* Tag Colors - Dark */
            --tag-vh-bg: rgba(255, 228, 230, 0.1); --tag-vh-text: #fda4af;
            --tag-h-bg: rgba(255, 234, 221, 0.1); --tag-h-text: #fdba74;
            --tag-m-bg: rgba(254, 249, 195, 0.1); --tag-m-text: #fde04T7;
            --tag-l-bg: rgba(209, 250, 229, 0.1); --tag-l-text: #a7f3d0;
            --tag-ssc-bg: rgba(224, 231, 255, 0.1); --tag-ssc-text: #a5b4fc;
            --tag-banking-bg: rgba(250, 232, 255, 0.1); --tag-banking-text: #f0abfc;
            --tag-railways-bg: rgba(224, 242, 254, 0.1); --tag-railways-text: #7dd3fc;
        }
        html { scroll-behavior: smooth; scroll-padding-top: var(--header-height); }
        body {
            font-family: 'Manrope', sans-serif;
            background-color: var(--bg);
            color: var(--text-primary);
            transition: background-color 0.3s ease, color 0.3s ease;
            overflow-x: hidden;
        }
        .aurora-background { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: -1; overflow: hidden; }
        .aurora-blob { position: absolute; border-radius: 50%; filter: blur(120px); opacity: 0.2; }
        html.dark .aurora-blob { opacity: 0.3; }
        .aurora-blob:nth-child(1) { background: var(--accent-1); width: 400px; height: 400px; top: -150px; left: -150px; animation: move1 20s infinite alternate; }
        .aurora-blob:nth-child(2) { background: var(--accent-2); width: 300px; height: 300px; top: 50%; left: 50%; animation: move2 25s infinite alternate; }
        .aurora-blob:nth-child(3) { background: var(--accent-3); width: 350px; height: 350px; bottom: -150px; right: -150px; animation: move3 15s infinite alternate; }

        @keyframes move1 { from { transform: translate(0, 0) rotate(0deg); } to { transform: translate(100px, 50px) rotate(30deg); } }
        @keyframes move2 { from { transform: translate(-50%, -50%) rotate(0deg); } to { transform: translate(-40%, -60%) rotate(-40deg); } }
        @keyframes move3 { from { transform: translate(0, 0) rotate(0deg); } to { transform: translate(-80px, -40px) rotate(20deg); } }

        h1, h2, h3 { font-family: 'Poppins', sans-serif; }
        .gradient-text {
            background: linear-gradient(90deg, var(--accent-1), var(--accent-3), var(--accent-2));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% auto;
            animation: gradient-anim 5s linear infinite;
        }
        @keyframes gradient-anim { to { background-position: 200% center; } }
        
        .sticky-header { position: sticky; top: 0; z-index: 50; height: var(--header-height); backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px); background-color: var(--header-bg); border-bottom: 1px solid var(--card-border); }
        section { padding-top: var(--header-height); margin-top: -var(--header-height); }
        .glass-card { background-color: var(--card-bg); backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px); border: 1px solid var(--card-border); }
        
        .accordion-button::after { content: '+'; font-size: 1.5rem; font-weight: 300; color: var(--text-secondary); transition: transform 0.3s ease-in-out; margin-left: auto; }
        .accordion-button.active::after { transform: rotate(45deg); }
        .accordion-content { max-height: 0; overflow: hidden; transition: max-height 0.4s ease-in-out; }
        
        .topic-card { transition: transform 0.2s ease-out; }
        .topic-card:hover { transform: scale(1.03); }

        .tag { padding: 0.2rem 0.6rem; border-radius: 9999px; font-size: 0.7rem; font-weight: 700; text-transform: uppercase; }
        .tag-weight-vh { background-color: var(--tag-vh-bg); color: var(--tag-vh-text); }
        .tag-weight-h  { background-color: var(--tag-h-bg); color: var(--tag-h-text); }
        .tag-weight-m  { background-color: var(--tag-m-bg); color: var(--tag-m-text); }
        .tag-weight-l  { background-color: var(--tag-l-bg); color: var(--tag-l-text); }
        .tag-exam-ssc      { background-color: var(--tag-ssc-bg); color: var(--tag-ssc-text); }
        .tag-exam-banking { background-color: var(--tag-banking-bg); color: var(--tag-banking-text); }
        .tag-exam-railways{ background-color: var(--tag-railways-bg); color: var(--tag-railways-text); }

        .filter-button { transition: all 0.2s ease; border: 1px solid transparent; flex-shrink: 0; }
        html.light .filter-button { border-color: var(--card-border); }
        .filter-button.active-filter {
            background-image: linear-gradient(90deg, var(--accent-1), var(--accent-3), var(--accent-2));
            color: white;
            border-color: transparent;
            box-shadow: 0 4px 15px -5px rgba(0,0,0,0.3);
            background-size: 200% auto;
        }
        html.dark .filter-button.active-filter { color: var(--bg); }
        
        .filter-dropdown {
            -webkit-appearance: none; -moz-appearance: none; appearance: none;
            background-color: var(--card-bg);
            border: 1px solid var(--card-border);
            color: var(--text-primary);
            flex-shrink: 0;
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        .modal-overlay { display: none; position: fixed; inset: 0; background-color: rgba(0,0,0,0.5); backdrop-filter: blur(8px); z-index: 100; justify-content: center; align-items: center; }
    </style>
</head>
<body class="antialiased">
    <div class="aurora-background">
        <div class="aurora-blob"></div>
        <div class="aurora-blob"></div>
        <div class="aurora-blob"></div>
    </div>

    <nav class="sticky-header">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 h-full flex justify-between items-center">
             <div class="font-bold text-lg gradient-text">Club of Competition</div>
             <div class="flex items-center space-x-2 sm:space-x-4 md:space-x-6">
                 <a href="#unified-syllabus" class="text-sm font-bold text-secondary hover:text-primary transition">Syllabus</a>
                 <a href="#dashboard" class="text-sm font-bold text-secondary hover:text-primary transition">Dashboard</a>
                 <button id="theme-toggle" class="p-2 rounded-full text-secondary hover:bg-black/5 dark:hover:bg-white/10 transition-colors">
                     <svg id="theme-toggle-sun" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
                     <svg id="theme-toggle-moon" class="w-5 h-5 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
                 </button>
             </div>
        </div>
    </nav>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24">

        <header class="text-center mb-16 md:mb-24">
            <h1 class="gradient-text text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-extrabold tracking-tighter mb-6">The Unified Syllabus.</h1>
            <p class="text-base sm:text-lg md:text-xl max-w-3xl mx-auto text-secondary">SSC - Banking - Railways</p>
        </header>

        <section id="unified-syllabus" class="mb-20 md:mb-24">
            
            <div class="flex flex-col sm:flex-row justify-center items-center gap-4 mb-10">
                <div class="w-full sm:w-auto">
                    <div id="exam-filter" class="no-scrollbar flex items-center gap-3 overflow-x-auto sm:flex-wrap sm:justify-center sm:overflow-x-visible pb-2 sm:pb-0">
                        <button data-filter="all" class="filter-button active-filter font-bold py-2 px-6 rounded-full">All Exams</button>
                        <button data-filter="SSC" class="filter-button font-bold py-2 px-6 rounded-full">SSC</button>
                        <button data-filter="Banking" class="filter-button font-bold py-2 px-6 rounded-full">Banking</button>
                        <button data-filter="Railways" class="filter-button font-bold py-2 px-6 rounded-full">Railways</button>
                    </div>
                </div>
                <div class="relative w-full sm:w-auto">
                    <select id="weightage-filter-select" class="filter-dropdown w-full font-bold py-2 pl-4 pr-8 rounded-full focus:outline-none focus:ring-2 focus:ring-[var(--accent-2)]">
                        <option value="all">Filter by Importance</option>
                        <option value="vh">Very High</option>
                        <option value="h">High</option>
                        <option value="m">Medium</option>
                        <option value="l">Low</option>
                    </select>
                    <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-secondary">
                        <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
                    </div>
                </div>
            </div>

            <div class="space-y-3" id="unified-accordion"></div>
        </section>

        <section id="dashboard" class="mb-12">
            <h2 class="text-3xl sm:text-4xl font-bold text-center mb-4 tracking-tight">Your Strategy Dashboard</h2>
            <p class="text-base sm:text-lg text-center text-secondary max-w-3xl mx-auto mb-12">After building your core, use this dashboard to focus on the high-impact areas that define each exam.</p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6">
                
                <div class="glass-card p-6 rounded-2xl shadow-lg border-t-4" style="border-color: var(--accent-2)">
                    <h3 class="text-xl font-bold text-center">SSC: Advanced Maths</h3>
                    <div class="h-64"><canvas id="sscMathsChart"></canvas></div>
                </div>
                <div class="glass-card p-6 rounded-2xl shadow-lg border-t-4" style="border-color: var(--accent-3)">
                    <h3 class="text-xl font-bold text-center">Banking: DI & Puzzles</h3>
                    <div class="h-64"><canvas id="bankingMainsChart"></canvas></div>
                </div>
                <div class="glass-card p-6 rounded-2xl shadow-lg border-t-4" style="border-color: #10b981;">
                    <h3 class="text-xl font-bold text-center">Railways: General Science</h3>
                    <div class="h-64"><canvas id="railwayGroupDChart"></canvas></div>
                </div>
            </div>
        </section>

    </main>
    
    <div id="questionModal" class="modal-overlay">
        <div class="glass-card p-8 rounded-2xl shadow-2xl w-11/12 max-w-2xl max-h-[80vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h3 id="modalTitle" class="gradient-text text-2xl font-bold">Model Question</h3>
                <button id="closeModal" class="text-3xl font-bold text-secondary hover:text-red-500 transition-colors">&times;</button>
            </div>
            <div id="modalBody" class="space-y-4">
                <p class="p-4 rounded-md text-sm md:text-base whitespace-pre-wrap font-mono" style="background-color: var(--modal-question-bg-bright); color: var(--text-primary);"></p>
                <div class="p-4 rounded-md" style="background-color: var(--modal-solution-bg-bright); border-left: 4px solid var(--modal-solution-border-bright);"></div>
            </div>
        </div>
    </div>

    <footer class="text-center py-6 bg-black/5 dark:bg-white/5 backdrop-blur-sm text-secondary text-sm">
        <p>Infographic for illustrative purposes. Always refer to official notifications.</p>
    </footer>

    <script>
        const unifiedSyllabus = {
              "Quantitative Aptitude": {
                  "Number System & Simplification": [
                      { name: "Simplification & VBODMAS", exams: ['SSC', 'Banking', 'Railways'], weight: "h", example: "Q: 'Solve: 36 ÷ 2 + (18 - 6) × 2'\nA) 42 B) 60 C) 30 D) 52\n\n**Answer:** A) 42. Using BODMAS: 36 ÷ 2 + 12 × 2 = 18 + 24 = 42." },
                      { name: "LCM & HCF", exams: ['SSC', 'Railways'], weight: "m", example: "Q: 'The HCF of two numbers is 11 and their LCM is 693. If one number is 77, find the other.'\nA) 99 B) 66 C) 88 D) 121\n\n**Answer:** A) 99. Product of two numbers = HCF × LCM. 77 × x = 11 × 693. x = (11 × 693) / 77 = 99." },
                      { name: "Fractions & Decimals", exams: ['SSC', 'Banking', 'Railways'], weight: "m", example: "Q: 'Arrange in ascending order: 2/3, 4/5, 7/9.'\nA) 2/3, 4/5, 7/9 B) 2/3, 7/9, 4/5 C) 4/5, 7/9, 2/3 D) 7/9, 4/5, 2/3\n\n**Answer:** B) 2/3, 7/9, 4/5. Convert to decimals: 0.66, 0.8, 0.77. Ascending order is 0.66, 0.77, 0.8." },
                      { name: "Surds & Indices", exams: ['SSC', 'Railways'], weight: "m", example: "Q: 'Find the value of (27)^(2/3).'\nA) 3 B) 9 C) 18 D) 81\n\n**Answer:** B) 9. (27)^(2/3) = (3³)^(2/3) = 3^(3 * 2/3) = 3² = 9." },
                      { name: "Unit Digit Calculation", exams: ['SSC', 'Railways'], weight: "l", example: "Q: 'What is the unit digit of 7¹⁰⁵?'\nA) 7 B) 9 C) 3 D) 1\n\n**Answer:** A) 7. The cyclicity of 7 is 4 (7, 9, 3, 1). 105 ÷ 4 gives a remainder of 1. So the unit digit is 7¹ = 7." }
                  ],
                  "Arithmetic": [
                      { name: "Percentage Calculation", exams: ['SSC', 'Banking', 'Railways'], weight: "h", example: "Q: 'If 40% of a number is 240, what is the number?'\nA) 600 B) 500 C) 480 D) 720\n\n**Answer:** A) 600. Let the number be x. 0.40 * x = 240 => x = 240 / 0.4 = 600." },
                      { name: "Profit & Loss Calculation", exams: ['SSC', 'Banking', 'Railways'], weight: "h", example: "Q: 'By selling an article for Rs. 100, a man gains Rs. 15. His gain % is:'\nA) 15% B) 17.65% C) 12.5% D) 18%\n\n**Answer:** B) 17.65%. CP = 100 - 15 = 85. Gain % = (15/85) * 100 ≈ 17.65%." },
                      { name: "Discount & Marked Price", exams: ['SSC', 'Banking'], weight: "m", example: "Q: 'An item marked at Rs. 840 is sold for Rs. 714. What is the discount %?'\nA) 10% B) 15% C) 20% D) 25%\n\n**Answer:** B) 15%. Discount = 840 - 714 = 126. Discount % = (126/840) * 100 = 15%." },
                      { name: "Ratio & Proportion", exams: ['SSC', 'Banking', 'Railways'], weight: "h", example: "Q: 'If A:B = 2:3 and B:C = 4:5, what is A:C?'\nA) 2:5 B) 8:15 C) 1:2 D) 3:5\n\n**Answer:** B) 8:15. A/C = (A/B) * (B/C) = (2/3) * (4/5) = 8/15." },
                      { name: "Partnership Problems", exams: ['SSC', 'Banking'], weight: "m", example: "Q: 'A invests Rs. 5000 for 12 months and B invests Rs. 6000 for 8 months. In a profit of Rs. 2700, what is B's share?'\nA) Rs. 1500 B) Rs. 1200 C) Rs. 1800 D) Rs. 2100\n\n**Answer:** B) Rs. 1200. Ratio of profits = 5000*12 : 6000*8 = 60000:48000 = 5:4. B's share = (4/9) * 2700 = 1200." },
                      { name: "Mixture & Alligation", exams: ['SSC', 'Banking', 'Railways'], weight: "m", example: "Q: 'In what ratio must rice at Rs. 9.30/kg be mixed with rice at Rs. 10.80/kg so that the mixture be worth Rs. 10/kg?'\nA) 8:7 B) 7:8 C) 2:3 D) 3:2\n\n**Answer:** A) 8:7. Using alligation: (10.80-10) : (10-9.30) = 0.80 : 0.70 = 8:7." },
                      { name: "Average", exams: ['SSC', 'Banking', 'Railways'], weight: "h", example: "Q: 'The average of 5 consecutive odd numbers is 21. Find the largest number.'\nA) 21 B) 23 C) 25 D) 27\n\n**Answer:** C) 25. For consecutive numbers, the average is the middle number. Numbers are 17, 19, 21, 23, 25." },
                      { name: "Simple Interest", exams: ['SSC', 'Banking', 'Railways'], weight: "m", example: "Q: 'Find the simple interest on Rs. 5000 for 2 years at 8% per annum.'\nA) Rs. 400 B) Rs. 800 C) Rs. 5800 D) Rs. 600\n\n**Answer:** B) Rs. 800. SI = (P*R*T)/100 = (5000*8*2)/100 = 800." },
                      { name: "Compound Interest", exams: ['SSC', 'Banking'], weight: "h", example: "Q: 'Find the compound interest on Rs. 1000 for 2 years at 10% p.a.'\nA) Rs. 200 B) Rs. 100 C) Rs. 210 D) Rs. 1210\n\n**Answer:** C) Rs. 210. Amount = 1000 * (1.1)² = 1210. CI = 1210 - 1000 = 210." },
                      { name: "Time, Speed & Distance", exams: ['SSC', 'Banking', 'Railways'], weight: "h", example: "Q: 'A man crosses a 600 m long street in 5 minutes. What is his speed in km/hr?'\nA) 3.6 B) 7.2 C) 8.4 D) 10\n\n**Answer:** B) 7.2. Speed = (600 m) / (300 s) = 2 m/s. (2 * 18/5) km/hr = 7.2 km/hr." },
                      { name: "Time and Work", exams: ['SSC', 'Banking', 'Railways'], weight: "h", example: "Q: 'A can do a work in 15 days and B in 20 days. If they work on it together for 4 days, then the fraction of the work that is left is:'\nA) 1/4 B) 1/10 C) 7/15 D) 8/15\n\n**Answer:** D) 8/15. (A+B)'s 1 day work = 1/15+1/20=7/60. 4 days work = 28/60=7/15. Left = 1-7/15=8/15." }
                  ],
                  "Advanced Mathematics": [
                      { name: "Algebra: Identities & Equations", exams: ['SSC'], weight: "vh", example: "Q: 'If x + 1/x = 3, then x³ + 1/x³ is?'\nA) 27 B) 36 C) 24 D) 18\n\n**Answer:** D) 18. Formula: x³+1/x³ = k³ - 3k = 3³ - 3*3 = 27-9=18." },
                      { name: "Geometry: Lines & Angles", exams: ['SSC', 'Railways'], weight: "h", example: "Q: 'Two parallel lines are intersected by a transversal. If one of the interior angles on the same side is 70°, what is the other?'\nA) 110° B) 70° C) 20° D) 90°\n\n**Answer:** A) 110°. Interior angles on the same side are supplementary (sum = 180°)." },
                      { name: "Geometry: Triangles", exams: ['SSC', 'Railways'], weight: "vh", example: "Q: 'In triangle ABC, the bisectors of ∠B and ∠C meet at point O. If ∠A = 80°, find ∠BOC.'\nA) 130° B) 100° C) 80° D) 140°\n\n**Answer:** A) 130°. Formula: ∠BOC = 90° + ∠A/2 = 90° + 40° = 130°." },
                      { name: "Geometry: Circles", exams: ['SSC'], weight: "vh", example: "Q: 'A chord of length 16 cm is drawn in a circle of radius 10 cm. Find the distance of the chord from the center.'\nA) 6 cm B) 8 cm C) 5 cm D) 7 cm\n\n**Answer:** A) 6 cm. The perpendicular from the center bisects the chord (8cm). This forms a right triangle with hypotenuse 10 and one side 8. The other side is √(10²-8²) = 6." },
                      { name: "Mensuration 2D (Area/Perimeter)", exams: ['SSC', 'Railways'], weight: "h", example: "Q: 'The perimeter of a rectangle is 40 cm. If its length is 12 cm, what is its area?'\nA) 96 cm² B) 84 cm² C) 108 cm² D) 92 cm²\n\n**Answer:** A) 96 cm². 2(12+B) = 40 => B=8. Area = 12*8 = 96." },
                      { name: "Mensuration 3D (Volume/Surface Area)", exams: ['SSC', 'Railways'], weight: "h", example: "Q: 'Find the total surface area of a cube with a side of 5 cm.'\nA) 125 cm² B) 100 cm² C) 150 cm² D) 60 cm²\n\n**Answer:** C) 150 cm². TSA of cube = 6a² = 6 * 5² = 150." },
                      { name: "Trigonometry (Ratios & Identities)", exams: ['SSC'], weight: "h", example: "Q: 'What is the value of sin²63° + sin²27°?'\nA) 0 B) 1 C) 2 D) -1\n\n**Answer:** B) 1. sin²27° = cos²(90-27)° = cos²63°. So sin²63° + cos²63° = 1." }
                  ]
              },
              "General Intelligence & Reasoning": {
                  "Verbal Reasoning": [
                      { name: "Analogy: Word-based", exams: ['SSC', 'Banking', 'Railways'], weight: "h", example: "Q: 'Cat : Kitten :: Dog : ?'\nA) Puppy B) Cub C) Fawn D) Larva\n\n**Answer:** A) Puppy. A young cat is a kitten, a young dog is a puppy." },
                      { name: "Analogy: Number & Letter", exams: ['SSC', 'Railways'], weight: "h", example: "Q: '12 : 144 :: 15 : ?'\nA) 169 B) 225 C) 196 D) 256\n\n**Answer:** B) 225. The relation is x : x²." },
                      { name: "Classification (Odd One Out)", exams: ['SSC', 'Banking', 'Railways'], weight: "h", example: "Q: 'Find the odd one out: January, May, July, September'\nA) January B) May C) July D) September\n\n**Answer:** D) September. All others have 31 days." },
                      { name: "Series: Number & Alphabet", exams: ['SSC', 'Banking', 'Railways'], weight: "h", example: "Q: 'Find the next term: 3, 7, 15, 31, 63, ?'\nA) 127 B) 125 C) 131 D) 129\n\n**Answer:** A) 127. Pattern is ×2+1." },
                      { name: "Coding-Decoding", exams: ['SSC', 'Banking', 'Railways'], weight: "h", example: "Q: 'If 'EARTH' is coded as 'FCUXM', how is 'MOON' coded?'\nA) NPPQ B) NQQP C) NQPQ D) NPQP\n\n**Answer:** D) NPQP. Each letter is shifted by a different amount: +1, +2, +3, +4, +5." },
                      { name: "Blood Relations: Indicating Type", exams: ['SSC', 'Banking', 'Railways'], weight: "m", example: "Q: 'Pointing to a girl, Rajan said, 'She is the daughter of my mother's daughter.' How is the girl related to Rajan?'\nA) Daughter B) Sister C) Niece D) Aunt\n\n**Answer:** C) Niece. Mother's daughter is his sister. Sister's daughter is his niece." },
                      { name: "Blood Relations: Coded Type", exams: ['Banking'], weight: "m", example: "Q: 'If P+Q means P is the father of Q, P-Q means P is the mother of Q, which of the following shows A is the grandmother of C?'\nA) A-B+C B) C+B-A C) A+B-C D) B-A+C\n\n**Answer:** A) A-B+C. A is mother of B, B is father of C. So A is grandmother of C." },
                      { name: "Direction & Distance", exams: ['SSC', 'Banking', 'Railways'], weight: "m", example: "Q: 'A man walks 1km East, then 5km South, then 2km East, and finally 9km North. How far is he from the starting point?'\nA) 3 km B) 4 km C) 5 km D) 7 km\n\n**Answer:** C) 5 km. Total East = 3km. Total North = 4km. Distance = √(3²+4²) = 5km." },
                      { name: "Syllogism", exams: ['SSC', 'Banking', 'Railways'], weight: "h", example: "Q: 'Statements: All cars are buses. Some buses are trucks. Conclusions: I. Some cars are trucks. II. No car is a truck.'\nA) Only I follows B) Only II follows C) Either I or II D) Neither\n\n**Answer:** C) Either I or II. There is no definite relation, so a possibility exists for both." }
                  ],
                  "Non-Verbal Reasoning": [
                      { name: "Mirror & Water Images", exams: ['SSC', 'Railways'], weight: "m", example: "Q: 'Find the mirror image of the word 'VERTICAL'.'\n\n**Answer:** The letters will be in reverse order and each letter will be laterally inverted." },
                      { name: "Paper Folding & Cutting", exams: ['SSC', 'Railways'], weight: "m", example: "Q: 'A square paper is folded on the diagonal and a punch is made. How will it look when unfolded?'\n\n**Answer:** Requires visualizing the mirroring effect across the fold line." },
                      { name: "Embedded Figures", exams: ['SSC', 'Railways'], weight: "m", example: "Q: 'Find the option figure in which the question figure is hidden/embedded.'\n\n**Answer:** Requires careful observation to find a smaller shape hidden inside a more complex one." },
                      { name: "Figure Series & Analogy", exams: ['SSC', 'Railways'], weight: "h", example: "Q: 'Find the next figure in the series based on rotation and addition of elements.'\n\n**Answer:** Requires identifying the pattern of movement or change from one figure to the next." },
                      { name: "Counting Figures (Triangles, Squares)", exams: ['SSC', 'Railways'], weight: "l", example: "Q: 'How many triangles are there in a star shape formed by two overlapping equilateral triangles?'\nA) 6 B) 8 C) 10 D) 12\n\n**Answer:** B) 8. (6 small triangles and 2 large ones)." }
                  ]
              },
              "English Language": {
                  "Grammar Rules": [
                      { name: "Subject-Verb Agreement", exams: ['SSC', 'Banking'], weight: "vh", example: "Q: 'Spot the error: Each of the students (A)/ have submitted (B)/ the assignment. (C)/ No Error (D)'\n\n**Answer:** B) have submitted. 'Each of' takes a singular verb. It should be 'has submitted'." },
                      { name: "Tenses & Conditionals", exams: ['SSC', 'Banking'], weight: "h", example: "Q: 'Spot the error: If I was you, (A)/ I would not (B)/ accept this offer. (C)/ No Error (D)'\n\n**Answer:** A) If I was you. In hypothetical conditional sentences, 'were' is used instead of 'was'. It should be 'If I were you'." },
                      { name: "Articles & Determiners", exams: ['SSC', 'Banking'], weight: "m", example: "Q: 'Fill in the blank: He is ___ university professor.'\nA) a B) an C) the D) no article\n\n**Answer:** A) a. 'University' starts with a 'y' consonant sound." },
                      { name: "Prepositions", exams: ['SSC', 'Banking'], weight: "h", example: "Q: 'He is accused ___ theft.'\nA) for B) with C) of D) in\n\n**Answer:** C) of. 'Accused of' is the correct prepositional phrase." },
                      { name: "Conjunctions", exams: ['SSC', 'Banking'], weight: "m", example: "Q: 'Spot the error: He is both intelligent (A)/ as well as (B)/ hardworking. (C)/ No Error (D)'\n\n**Answer:** B) as well as. The correlative conjunction 'both' is always followed by 'and', not 'as well as'." },
                      { name: "Pronouns", exams: ['SSC', 'Banking'], weight: "m", example: "Q: 'Spot the error: Let you and I (A)/ go to the (B)/ party. (C)/ No Error (D)'\n\n**Answer:** A) Let you and I. After 'Let', the objective case of the pronoun is used. It should be 'Let you and me'." },
                      { name: "Adjectives & Adverbs", exams: ['SSC', 'Banking'], weight: "m", example: "Q: 'Spot the error: She sings (A)/ very good. (B)/ (C)/ No Error (D)'\n\n**Answer:** B) very good. To modify the verb 'sings', an adverb is needed. It should be 'very well'." },
                      { name: "Voice & Narration Change", exams: ['SSC'], weight: "h", example: "Q: 'Change to indirect speech: She said, 'I will come tomorrow.''\nA) She said she will come the next day. B) She said she would come tomorrow. C) She said that she would come the next day.\n\n**Answer:** C) She said that she would come the next day." }
                  ],
                  "Vocabulary & Usage": [
                      { name: "Synonyms & Antonyms", exams: ['SSC', 'Banking'], weight: "vh", example: "Q: 'Find the antonym of 'mitigate'.'\nA) Alleviate B) Aggravate C) Assuage D) Lessen\n\n**Answer:** B) Aggravate. Mitigate means to make less severe; aggravate means to make worse." },
                      { name: "Idioms & Phrases", exams: ['SSC', 'Banking'], weight: "h", example: "Q: 'The project was a 'damp squib'. What does this idiom mean?'\nA) A great success B) A complete failure C) A minor problem D) A wet object\n\n**Answer:** B) A complete failure." },
                      { name: "One-word Substitution", exams: ['SSC', 'Banking'], weight: "h", example: "Q: 'A place where birds are kept.'\nA) Aquarium B) Apiary C) Aviary D) Zoo\n\n**Answer:** C) Aviary." },
                      { name: "Spelling Correction", exams: ['SSC', 'Banking'], weight: "m", example: "Q: 'Which of the following spellings is correct?'\nA) Mischeivous B) Mischievous C) Mischevous D) Mischivous\n\n**Answer:** B) Mischievous." },
                      { name: "Fill in the Blanks (Single/Double)", exams: ['SSC', 'Banking'], weight: "h", example: "Q: 'His ___ nature made him an excellent diplomat.'\nA) aggressive B) taciturn C) gregarious D) amiable\n\n**Answer:** D) amiable. Amiable (friendly) fits the context of a diplomat." }
                  ],
                  "Comprehension Skills": [
                      { name: "Reading Comprehension", exams: ['SSC', 'Banking'], weight: "vh", example: "Q: 'Based on the passage, what is the author's primary argument?'\n\n**Answer:** Requires a holistic understanding of the entire passage to identify the central theme or main point." },
                      { name: "Cloze Test", exams: ['SSC', 'Banking'], weight: "h", example: "Q: 'A passage with numbered blanks is given. Choose the best word for each blank.'\n\n**Answer:** Tests vocabulary, grammar, and contextual understanding simultaneously." },
                      { name: "Para Jumbles", exams: ['SSC', 'Banking'], weight: "h", example: "Q: 'Four sentences are given, jumbled. Arrange them in the correct order to form a meaningful paragraph.'\n\n**Answer:** Tests logical sequencing and understanding of paragraph structure." }
                  ]
              },
              "General Awareness, Science & Computers": {
                  "History": [
                      { name: "Indus Valley Civilization", exams: ['SSC', 'Railways'], weight: "m", example: "Q: 'Which metal was not known to the people of the Indus Valley Civilization?'\nA) Copper B) Bronze C) Silver D) Iron\n\n**Answer:** D) Iron." },
                      { name: "Vedic Period", exams: ['SSC', 'Railways'], weight: "m", example: "Q: 'The Gayatri Mantra is contained in which Veda?'\nA) Rigveda B) Samaveda C) Yajurveda D) Atharvaveda\n\n**Answer:** A) Rigveda." },
                      { name: "Buddhism & Jainism", exams: ['SSC', 'Railways'], weight: "h", example: "Q: 'Where did Buddha attain enlightenment?'\nA) Sarnath B) Kushinagar C) Bodh Gaya D) Lumbini\n\n**Answer:** C) Bodh Gaya." },
                      { name: "Mauryan & Gupta Period", exams: ['SSC', 'Railways'], weight: "h", example: "Q: 'The rock edicts of Ashoka were written in which script?'\nA) Sanskrit B) Pali C) Brahmi D) Devanagari\n\n**Answer:** C) Brahmi." },
                      { name: "Delhi Sultanate", exams: ['SSC', 'Railways'], weight: "m", example: "Q: 'Who founded the 'slave dynasty' in Delhi?'\nA) Iltutmish B) Balban C) Qutub-ud-din Aibak D) Alauddin Khilji\n\n**Answer:** C) Qutub-ud-din Aibak." },
                      { name: "Mughal Empire", exams: ['SSC', 'Railways'], weight: "h", example: "Q: 'The battle of Panipat (1526) was fought between Babur and whom?'\nA) Rana Sanga B) Hemu C) Ibrahim Lodi D) Sher Shah Suri\n\n**Answer:** C) Ibrahim Lodi." },
                      { name: "Indian Freedom Struggle", exams: ['SSC', 'Railways'], weight: "vh", example: "Q: 'The 'Poorna Swaraj' (Complete Independence) resolution was passed by the INC in which session?'\nA) Bombay Session B) Lucknow Session C) Lahore Session D) Surat Session\n\n**Answer:** C) Lahore Session (1929)." }
                  ],
                  "Geography & Polity": [
                      { name: "Physical Geography (Solar System, Earth)", exams: ['SSC', 'Railways'], weight: "m", example: "Q: 'Which planet is known as the 'Red Planet'?'\nA) Venus B) Mars C) Jupiter D) Saturn\n\n**Answer:** B) Mars." },
                      { name: "Indian Geography (Rivers, Mountains, States)", exams: ['SSC', 'Railways'], weight: "h", example: "Q: 'The Narmada river originates from:'\nA) Western Ghats B) Amarkantak Plateau C) Himalayas D) Satpura Range\n\n**Answer:** B) Amarkantak Plateau." },
                      { name: "Making of the Constitution", exams: ['SSC', 'Railways'], weight: "m", example: "Q: 'Who was the chairman of the Drafting Committee of the Indian Constitution?'\nA) Jawaharlal Nehru B) Dr. Rajendra Prasad C) Sardar Patel D) Dr. B.R. Ambedkar\n\n**Answer:** D) Dr. B.R. Ambedkar." },
                      { name: "Fundamental Rights & Duties", exams: ['SSC', 'Railways'], weight: "h", example: "Q: 'Which part of the Indian Constitution contains the Fundamental Rights?'\nA) Part I B) Part II C) Part III D) Part IV\n\n**Answer:** C) Part III." },
                      { name: "Parliament, President, Judiciary", exams: ['SSC', 'Railways'], weight: "h", example: "Q: 'Who administers the oath of office to the President of India?'\nA) Prime Minister B) Vice President C) Speaker of Lok Sabha D) Chief Justice of India\n\n**Answer:** D) Chief Justice of India." }
                  ],
                  "Economy, Banking & Current Affairs": [
                      { name: "Current Affairs (Last 6 Months)", exams: ['SSC', 'Banking', 'Railways'], weight: "vh", example: "Q: 'Who won the Wimbledon Men's Singles title in the current year?'\n\n**Answer:** This is a dynamic question requiring knowledge of recent major events." },
                      { name: "Indian Economy & Budget", exams: ['SSC', 'Banking', 'Railways'], weight: "h", example: "Q: 'What type of economy is the Indian economy?'\nA) Socialist B) Communist C) Capitalist D) Mixed\n\n**Answer:** D) Mixed." },
                      { name: "Banking & Financial Awareness", exams: ['Banking'], weight: "vh", example: "Q: 'What is the full form of NEFT?'\nA) National Electronic Funds Transfer B) National E-cash Financial Transaction C) New Electronic Funds Transfer D) National Express Funds Transaction\n\n**Answer:** A) National Electronic Funds Transfer." },
                      { name: "Monetary Policy (Repo, CRR, SLR)", exams: ['Banking'], weight: "vh", example: "Q: 'When the RBI wants to increase the money supply in the economy, it:'\nA) Increases CRR B) Sells government securities C) Buys government securities D) Increases Repo Rate\n\n**Answer:** C) Buys government securities (through Open Market Operations)." }
                  ],
                  "General Science & Computers": [
                      { name: "Physics (Units, Motion, Light, Sound)", exams: ['SSC', 'Railways'], weight: "vh", example: "Q: 'The audible range of sound for human beings is:'\nA) 2 Hz to 20 Hz B) 20 Hz to 20,000 Hz C) 20 kHz to 200 kHz D) Below 20 Hz\n\n**Answer:** B) 20 Hz to 20,000 Hz." },
                      { name: "Chemistry (Acids/Bases, Metals, Carbon)", exams: ['SSC', 'Railways'], weight: "vh", example: "Q: 'Which of the following is used in pencils?'\nA) Silicon B) Charcoal C) Graphite D) Phosphorus\n\n**Answer:** C) Graphite." },
                      { name: "Biology (Human Body, Diseases, Vitamins)", exams: ['SSC', 'Railways'], weight: "vh", example: "Q: 'Insulin is secreted by which gland?'\nA) Pituitary B) Thyroid C) Pancreas D) Adrenal\n\n**Answer:** C) Pancreas." },
                      { name: "Computer Fundamentals", exams: ['SSC', 'Banking'], weight: "m", example: "Q: 'What does CPU stand for?'\nA) Central Processing Unit B) Central Programming Unit C) Computer Processing Unit D) Central Protocol Unit\n\n**Answer:** A) Central Processing Unit." },
                      { name: "MS Office & Internet", exams: ['SSC', 'Banking'], weight: "m", example: "Q: 'Which of the following is a web browser?'\nA) MS Word B) Google Chrome C) MS Excel D) Notepad\n\n**Answer:** B) Google Chrome." }
                  ]
              }
        };
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const themeToggle = document.getElementById('theme-toggle');
            const sunIcon = document.getElementById('theme-toggle-sun');
            const moonIcon = document.getElementById('theme-toggle-moon');
            const subjectConfig = {
                "Quantitative Aptitude": { 
                    icon: `<svg class="h-6 w-6 mr-3" style="color: var(--accent-1)" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z" /></svg>`,
                    colorClasses: "border-l-[var(--accent-1)]",
                },
                "General Intelligence & Reasoning": {
                    icon: `<svg class="h-6 w-6 mr-3" style="color: var(--accent-2)" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10l-2 1m0 0l-2-1m2 1v2.5M20 7l-2 1m2-1l-2-1m2 1v2.5M14 4l-2 1m2-1l-2-1m2 1V2M8 7l2 1M6 7l2-1M8 7V4.5M12 11V9M12 15v2M12 15a3 3 0 01-3 3H9a3 3 0 01-3-3v-2m6-4a3 3 0 00-3-3H9a3 3 0 00-3 3v2m6 4a3 3 0 013 3h1a3 3 0 013-3v-2m-6-4a3 3 0 003-3h1a3 3 0 003 3v2" /></svg>`,
                    colorClasses: "border-l-[var(--accent-2)]",
                },
                "English Language": {
                    icon: `<svg class="h-6 w-6 mr-3" style="color: var(--accent-3)" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m4 0v2M3 17h12M9 15v2m4 0v2M4 11h16M4 7h16" /></svg>`,
                    colorClasses: "border-l-[var(--accent-3)]",
                },
                "General Awareness, Science & Computers": {
                    icon: `<svg class="h-6 w-6 mr-3 text-emerald-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2h8a2 2 0 002-2v-1a2 2 0 012-2h1.945M7.737 16.95l.707.707a1 1 0 001.414 0l.707-.707M7.737 4.05l.707-.707a1 1 0 011.414 0l.707.707M15.263 16.95l-.707.707a1 1 0 01-1.414 0l-.707-.707M15.263 4.05l-.707-.707a1 1 0 00-1.414 0l-.707.707M9 11a1 1 0 011-1h4a1 1 0 011 1v3a1 1 0 01-1 1h-4a1 1 0 01-1-1v-3z" /></svg>`,
                    colorClasses: "border-l-emerald-500",
                }
            };

            const updateIcon = () => {
                if (document.documentElement.classList.contains('dark')) {
                    sunIcon.classList.add('hidden');
                    moonIcon.classList.remove('hidden');
                } else {
                    sunIcon.classList.remove('hidden');
                    moonIcon.classList.add('hidden');
                }
            };
            themeToggle.addEventListener('click', () => {
                document.documentElement.classList.toggle('dark');
                localStorage.setItem('theme', document.documentElement.classList.contains('dark') ? 'dark' : 'light');
                updateIcon();
                updateChartTheme();
            });
            updateIcon();

            function createAccordion(containerId, data) {
                const container = document.getElementById(containerId);
                if (!container) return;
                let html = '';
                for (const [title, groups] of Object.entries(data)) {
                    const config = subjectConfig[title] || { icon: '', colorClasses: ''};
                    html += `<div class="glass-card rounded-xl shadow-sm mb-4 border-l-4 ${config.colorClasses}"><button class="accordion-button bg-transparent w-full flex items-center text-left p-4 md:p-5"><div class="flex items-center">${config.icon}<h3 class="font-bold text-lg md:text-xl tracking-tight">${title}</h3></div></button><div class="accordion-content"><div class="px-4 md:px-5 pb-4">`;
                    for (const [groupTitle, topics] of Object.entries(groups)) {
                        html += `<h4 class="text-base font-bold pt-4 pb-2 text-primary/90">${groupTitle}</h4><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">`;
                        topics.forEach(topic => {
                            const examTags = topic.exams.map(exam => `<span class="tag tag-exam-${exam.toLowerCase()}">${exam}</span>`).join('');
                            let weightTag = '';
                            if (topic.weight === 'vh') weightTag = '<span class="tag tag-weight-vh">Very High</span>';
                            else if (topic.weight === 'h') weightTag = '<span class="tag tag-weight-h">High</span>';
                            else if (topic.weight === 'm') weightTag = '<span class="tag tag-weight-m">Medium</span>';
                            else if (topic.weight === 'l') weightTag = '<span class="tag tag-weight-l">Low</span>';
                            const exampleCue = topic.example ? `<div class="text-xs font-bold text-secondary group-hover:gradient-text mt-3">View Example &rarr;</div>` : '';
                            const examsString = topic.exams.join(',');
                            html += `<div class="topic-card group cursor-pointer flex-col p-3 rounded-lg bg-black/5 dark:bg-white/5" data-exams="${examsString}" data-weight="${topic.weight}" data-title="${topic.name}" data-example="${topic.example ? encodeURIComponent(topic.example) : ''}"><div class="flex-grow"><p class="font-bold text-sm text-primary">${topic.name}</p><div class="flex flex-wrap gap-1 mt-2">${examTags}${weightTag}</div></div>${exampleCue}</div>`;
                        });
                        html += `</div>`;
                    }
                    html += `</div></div></div>`;
                }
                container.innerHTML = html;
            }
            createAccordion('unified-accordion', unifiedSyllabus);

            document.querySelectorAll('.accordion-button').forEach(button => {
                button.addEventListener('click', () => {
                    const accordionContent = button.nextElementSibling;
                    button.classList.toggle('active');
                    accordionContent.style.maxHeight = button.classList.contains('active') ? accordionContent.scrollHeight + 'px' : '0px';
                });
            });

            // Modal Logic
            const modal = document.getElementById('questionModal');
            const closeModalBtn = document.getElementById('closeModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalQuestion = modal.querySelector('#modalBody p');
            const modalAnswer = modal.querySelector('#modalBody div');
            document.getElementById('unified-accordion').addEventListener('click', e => {
                const card = e.target.closest('.topic-card');
                if (card && card.dataset.example) {
                    const { title, example } = card.dataset;
                    const [question, answer] = decodeURIComponent(example).split('\n\n**Answer:**');
                    modalTitle.textContent = title;
                    modalQuestion.textContent = question.trim();
                    const answerText = answer ? `<strong style="color: var(--modal-solution-border-bright)">Answer:</strong> <span style="color: var(--modal-solution-text-bright)">${answer.trim()}</span>` : '';
                    modalAnswer.innerHTML = answerText;
                    modal.style.display = 'flex';
                }
            });
            closeModalBtn.addEventListener('click', () => modal.style.display = 'none');
            modal.addEventListener('click', e => { if (e.target === modal) modal.style.display = 'none'; });

            // --- Combined Filter Logic ---
            const examFilterContainer = document.getElementById('exam-filter');
            const weightageFilterSelect = document.getElementById('weightage-filter-select');
            const topicCards = document.querySelectorAll('.topic-card');
            let currentJobFilter = 'all';
            let currentWeightFilter = 'all';

            function applyFilters() {
                topicCards.forEach(card => {
                    const cardExams = card.dataset.exams;
                    const cardWeight = card.dataset.weight;

                    const jobMatch = currentJobFilter === 'all' || cardExams.includes(currentJobFilter);
                    const weightMatch = currentWeightFilter === 'all' || cardWeight === currentWeightFilter;

                    if (jobMatch && weightMatch) {
                        card.style.display = 'flex';
                    } else {
                        card.style.display = 'none';
                    }
                });

                // Recalculate height of any open accordions to prevent content clipping
                setTimeout(() => {
                    document.querySelectorAll('.accordion-button.active').forEach(button => {
                        const content = button.nextElementSibling;
                        content.style.maxHeight = content.scrollHeight + 'px';
                    });
                }, 10); // A small delay ensures the browser has repainted
            }

            examFilterContainer.addEventListener('click', e => {
                const filterButton = e.target.closest('button');
                if (!filterButton) return;
                
                currentJobFilter = filterButton.dataset.filter;
                examFilterContainer.querySelector('.active-filter')?.classList.remove('active-filter');
                filterButton.classList.add('active-filter');
                applyFilters();
            });

            weightageFilterSelect.addEventListener('change', e => {
                currentWeightFilter = e.target.value;
                applyFilters();
            });


            // Chart Logic
            let charts = {};
            const getChartOptions = (isPieOrDoughnut = false) => {
                const isDark = document.documentElement.classList.contains('dark');
                const fontColor = isDark ? '#94a3b8' : '#64748b';
                const gridColor = isDark ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.05)';
                const baseOptions = { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom', labels: { color: fontColor, font: { size: 12, family: 'Manrope' } } }, tooltip: { titleFont: { family: 'Poppins' }, bodyFont: { family: 'Manrope' }, titleColor: '#fff', bodyColor: '#ddd', backgroundColor: '#1e293b', padding: 10, cornerRadius: 8 } } };
                if (isPieOrDoughnut) return baseOptions;
                return { ...baseOptions, scales: { y: { ticks: { color: fontColor }, grid: { color: gridColor, drawOnChartArea: false } }, x: { ticks: { color: fontColor }, grid: { color: gridColor } } } };
            };
            function createCharts() {
                const palette = {
                    ssc: ['#4f46e5', '#a855f7', '#facc15'],
                    bank: ['#60a5fa', '#d946ef'],
                    rail: ['#10b981', '#3b82f6', '#facc15', '#6b7280']
                };
                const sscCtx = document.getElementById('sscMathsChart')?.getContext('2d');
                if(sscCtx) charts.ssc = new Chart(sscCtx, { 
                    type: 'pie', 
                    data: { labels: ['Advanced Maths', 'Arithmetic', 'Others'], datasets: [{ data: [65, 25, 10], backgroundColor: palette.ssc, borderWidth: 0 }] }, 
                    options: getChartOptions(true)
                });
                const bankCtx = document.getElementById('bankingMainsChart')?.getContext('2d');
                if(bankCtx) charts.bank = new Chart(bankCtx, { 
                    type: 'pie', 
                    data: { labels: ['Core Topics', 'DI & Puzzles'], datasets: [{ data: [22.5, 77.5], backgroundColor: palette.bank, borderWidth: 0 }] }, 
                    options: getChartOptions(true)
                });
                const railCtx = document.getElementById('railwayGroupDChart')?.getContext('2d');
                if(railCtx) charts.rail = new Chart(railCtx, { 
                    type: 'pie', 
                    data: { labels: ['Science', 'Reasoning', 'Maths', 'GA & CA'], datasets: [{ data: [25, 30, 25, 20], backgroundColor: palette.rail, borderWidth: 0 }] }, 
                    options: getChartOptions(true) 
                });
            }
            function updateChartTheme() {
                Object.values(charts).forEach(chart => {
                    if(!chart) return;
                    const isPie = chart.config.type === 'pie' || chart.config.type === 'doughnut';
                    const newOptions = getChartOptions(isPie);
                    Object.assign(chart.options, newOptions);
                    chart.update();
                });
            }
            createCharts();
        });
    </script>
</body>
</html>